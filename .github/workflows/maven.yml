name: Java CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up JDK 1.8
      uses: actions/setup-java@v1
      with:
        java-version: 1.8
    - name: Build and Deploy with Maven
      env:
        DEV_ENV: dev
        DEV_EI_HOST: dev.ei.wso2.com
        ADMIN_PASSWORD: ${{ secrets.ADMIN_PASSWORD }}
        ADMIN_USER: ${{ secrets.ADMIN_USER }}
        TRUSTSTORE_PASS: ${{ secrets.TRUSTSTORE_PASS }}
      run: |
       cd JenkinsCICDSample       
       ls
       mvn clean install --file pom.xml
       ls JenkinsCICDSample/HelloCompositeApp
       ls JenkinsCICDSample/HelloESBProject/target

      
